<div class="wrapper">
    <button mat-raised-button class="close" [mat-dialog-close]="true">
        <mat-icon matListIcon>close</mat-icon>
        </button>
    <button mat-icon-button class="edit" (click)="enableEdit()">
    <mat-icon *ngIf="this.profileForInput.id == this.UserService.currentUser?.id">
        edit
        </mat-icon>
</button>

<mat-dialog-content>
    <form #editForm="ngForm" (ngSubmit)="finishEditing(editForm)">
        <mat-card>
            <div class="row">
                <mat-icon>person</mat-icon>
                <div class="column" [hidden]="!this.isEditing">
                        <mat-card-subtitle>Ime:</mat-card-subtitle>
                        </div>
                    <mat-form-field [hidden]="this.isEditing">
                        <input matInput
                        type="text"
                        name="name" 
                        placeholder="Unesite svoje ime" 
                        ngModel
                        [(ngModel)]="this.profileForInput.ime"
                        email
                        required
                        #imeInput="ngModel">
                   <mat-error *ngIf="imeInput.hasError('required')">Ime je obavezno!</mat-error>
                    </mat-form-field>
                </div>
        </mat-card>
        <mat-card>
           <div class="row">
                <mat-icon>person</mat-icon>
                <div class="column" [hidden]="!this.isEditing">
                        <mat-card-subtitle>Prezime:</mat-card-subtitle>
                        </div>
                    <mat-form-field [hidden]="this.isEditing">
                        <input matInput
                        type="text"
                        name="prezime" 
                        placeholder="Unesite vaše prezime" 
                        ngModel
                        [(ngModel)]="this.profileForInput.prezime"
                        required
                        #prezimeInput="ngModel">
                   <mat-error *ngIf="prezimeInput.hasError('required')">Prezime je obavezno</mat-error>
                    </mat-form-field>
                </div>
        </mat-card>
        <mat-card>
            <div class="row">
                 <mat-icon>mail</mat-icon>
                 <div class="column" [hidden]="!this.isEditing">
                         <mat-card-subtitle>Email:</mat-card-subtitle>
                         </div>
                     <mat-form-field [hidden]="this.isEditing">
                         <input matInput
                         type="text"
                         name="email" 
                         placeholder="Unesite vaše email" 
                         ngModel
                         [(ngModel)]="this.profileForInput.email"
                         email
                         required
                         #emailInput="ngModel">
                    <mat-error *ngIf="emailInput.hasError('required')">Email je obavezan</mat-error>
                     </mat-form-field>
                 </div>
         </mat-card>
        <mat-card>
            <div class="row">
                <mat-icon>lock</mat-icon>
                <div class="column" [hidden]="!this.isEditing">
                        <mat-card-subtitle>Lozinka:</mat-card-subtitle>
                       </div>
                    <mat-form-field [hidden]="this.isEditing" hintLabel="Unesite najmanje 8 karaktera.">
                        <input matInput
                        type="text"
                        name="password"
                        placeholder="Unesite lozinku" 
                        ngModel
                        [(ngModel)]="this.profileForInput.password"
                        required
                        minlength="8"
                        #passlInput="ngModel">
                   <mat-error *ngIf="passlInput.hasError('required')">Lozinka je obavezna!</mat-error>
                    </mat-form-field>
                </div>
        </mat-card>
        <mat-card>
            <div class="row">
                <mat-icon>home</mat-icon>
                <div class="column" [hidden]="!this.isEditing">
                        <mat-card-subtitle>Adresa:</mat-card-subtitle>
                       </div>
                    <mat-form-field [hidden]="this.isEditing">
                        <input matInput
                        type="text"
                        name="adresa"
                        placeholder="Unesite adresu" 
                        ngModel
                        [(ngModel)]="this.profileForInput.address"
                        required
                        #addrlInput="ngModel">
                   <mat-error *ngIf="addrlInput.hasError('required')">Adresa je obavezna.</mat-error>
                    </mat-form-field>
                </div>
            </mat-card>
            <mat-card>
                <div class="row">
                    <mat-icon>call</mat-icon>
                    <div class="column" [hidden]="!this.isEditing">
                            <mat-card-subtitle>Kontakt:</mat-card-subtitle>
                           </div>
                        <mat-form-field [hidden]="this.isEditing">
                            <input matInput
                            type="text"
                            name="kontak"
                            placeholder="Unesite broj telefona" 
                            ngModel
                            [(ngModel)]="this.profileForInput.contact"
                            required
                            #contlInput="ngModel">
                       <mat-error *ngIf="contlInput.hasError('required')">Broj telefona je obavezan.</mat-error>
                        </mat-form-field>
                    </div>
                </mat-card>


            <button mat-raised-button color="warn" *ngIf="this.isEditing" type="submit">Sačuvaj izmene</button>
        </form>
</mat-dialog-content>
</div>